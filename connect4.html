<html>
<head>
	<style>
		table, td {
		border: 1px solid black;
		width 10px;
		}
	</style>
</head>
<body>
	<table>
	<tr>
	<td><canvas width = "64" height="64" id="Empty" name="11" onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="12"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="13"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="14"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="15"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="16"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="17"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="18"onmouseover="showCol(8)"></td>
  </tr>
    <tr>
	<td><canvas width = "64" height="64" id="Empty" name="21"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="22"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="23"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="24"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="25"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="26"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="27"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="28"onmouseover="showCol(8)"></td>
  </tr>
     <tr>
	<td><canvas width = "64" height="64" id="Empty" name="31"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="32"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="33"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="34"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="35"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="36"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="37"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="38"onmouseover="showCol(8)"></td>
  </tr>
  <tr>
	<td><canvas width = "64" height="64" id="Empty" name="41"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="42"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="43"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="44"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="45"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="46"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="47"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="48"onmouseover="showCol(8)"></td>
  </tr>
  <tr>
	<td><canvas width = "64" height="64" id="Empty" name="51"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="52"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="53"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="54"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="55"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="56"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="57"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="58"onmouseover="showCol(8)"></td>
  </tr>
  <tr>
	<td><canvas width = "64" height="64" id="Empty" name="61"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="62"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="63"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="64"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="65"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="66"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="67"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="68"onmouseover="showCol(8)"></td>
  </tr>
  <tr>
	<td><canvas width = "64" height="64" id="Empty" name="71"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="72"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="73"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="74"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="75"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="76"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="77"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="78"onmouseover="showCol(8)"></td>
  </tr>
  <tr>
	<td><canvas width = "64" height="64" id="Empty" name="81"onmouseover="showCol(1)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="82"onmouseover="showCol(2)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="83"onmouseover="showCol(3)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="84"onmouseover="showCol(4)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="85"onmouseover="showCol(5)"></td>
    <td><canvas width = "64" height="64" id="Empty"name="86"onmouseover="showCol(6)"></td>
	<td><canvas width = "64" height="64" id="Empty" name="87"onmouseover="showCol(7)"></td>
	<td><canvas width = "64" height="64" id="Empty"name="88"onmouseover="showCol(8)"></td>
  </tr>
  </table>
  <br>
  Column
  <input type="text" id="column" width="50" height="10" readonly>
  <br>
  <input type="button" value="Turn" onclick="turn()">
  <script>
	var canvas,context;
	var row,col,filled=0,occupied,multiPlayer;
	var board = [["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]];
	
	const columnBox = document.getElementById("column");
	
	multiPlayer= confirm("Do you want multiplayer?");
	
	function turn(){
		move();
		updateboard();
		victory();
		
	}
	
	function showCol(col){
		
		columnBox.value = col.toString();
	
	}
	
	function updateboard(){
		
		for(row=1;row<=8;row++){
			for(col=1;col<=8;col++){
				canvas=document.getElementsByName(row.toString().concat(col.toString()))[0];
				if(canvas.id == "Red"){
					// draw red checker
					context=canvas.getContext('2d');
					context.beginPath();
					context.arc(32,32,32,0,2*Math.PI);
					context.strokeStyle="red";
					context.fillStyle="red";
					context.stroke();
					context.fill();
				}
				else if(canvas.id=="Yellow"){
					// draw yellow checker
					context=canvas.getContext('2d');
					context.beginPath();
					context.arc(32,32,32,0,2*Math.PI);
					context.strokeStyle="yellow";
					context.fillStyle="yellow";
					context.stroke();
					context.fill();
					
				}
			
			}
		
		}
	}
	function move(){
		
		// red player move 
		occupied=true;
		while (occupied){
		
			col=parseInt(prompt("Choose the column for red player"));
			
			// if input is of wrong type set random value 
			if (isNaN(col)){
				col=Math.floor(Math.random()*8)+1;
			}
		
			for(row=0;row<=7;row++){
			
				if(board[row][col-1] ==""){
					occupied = false;
				}
			}
		}
		
		for(row=8;row>=1;row--){
				canvas = document.getElementsByName(row.toString().concat(col.toString()))[0];
				if(canvas.id=="Empty"){
					canvas.id="Red";
					break;
				}
				
			}
		
		board[row-1][col-1]="Red";
		filled++;
		
		// human player 
		if(multiPlayer){
			
			// yellow player move  
			occupied=true;
			while (occupied){
		
				col=parseInt(prompt("Choose the column for yellow player"));
				
				// if input is of wrong type set random value 
				if (isNaN(col)){
					col=Math.floor(Math.random()*8)+1;
				}
				
				for(row=0;row<=7;row++){
			
					if(board[row][col-1] ==""){
						occupied = false;
					}
				}
			}
		
			for(row=8;row>=1;row--){
				canvas = document.getElementsByName(row.toString().concat(col.toString()))[0];
				if(canvas.id=="Empty"){
					canvas.id="Yellow";
					break;
					}
				
				}
		
			board[row-1][col-1]="Yellow";
			filled++;
		}
		
		// computer player 
		else{
		
			// yellow player move 
		
			occupied = true;
			while (occupied){
				col=Math.floor(Math.random()*8)+1;
			
				for(row=0;row<=7;row++){
			
					if(board[row][col] ==""){
						occupied = false;
					}
				}
			}
		
			for(row=8;row>=1;row--){
				canvas = document.getElementsByName(row.toString().concat(col.toString()))[0];
				if(canvas.id=="Empty"){
					canvas.id="Yellow";
					break;
					}
				}
			
			board[row-1][col-1]="Yellow";
			filled++;
		}
	}
	function victory(){
	
	// check row
	for(row=0;row<=7;row++){
		for(col=0;col<=4;col++){
			if(board[row][col]=="Red"&& board[row][col+1] == "Red" && board[row][col+2] == "Red" && board[row][col+3] == "Red"){
			
				alert("Red wins");
				restart();
				return 0;
			}
			else if(board[row][col]=="Yellow"&& board[row][col+1] == "Yellow" && board[row][col+2] == "Yellow" && board[row][col+3] == "Yellow"){
			
				alert("Yellow wins");
				restart();
				return 0;
			}
		}
	}
		
	// check col
	for(col=0;col<=7;col++){
		for(row=0;row<=4;row++){
			if(board[row][col]=="Red"&& board[row+1][col] == "Red" && board[row+2][col] == "Red" && board[row+3][col] == "Red"){
			
				alert("Red wins");
				restart();
				return 0;
			}
			else if(board[row][col]=="Yellow"&& board[row+1][col] == "Yellow" && board[row+2][col] == "Yellow" && board[row+3][col] == "Yellow"){
				alert("Yellow wins");
				restart();
				return 0;	
			}
		}
	}
	// check right diagonal
	for(col=0;col<=4;col++){
		for(row=0;row<=4;row++){
			if(board[row][col]=="Red"&& board[row+1][col+1] == "Red" && board[row+2][col+2] == "Red" && board[row+3][col+3] == "Red"){
				
				alert("Red wins");
				restart();
				return 0;
			}
			else if(board[row][col]=="Yellow"&& board[row+1][col+1] == "Yellow" && board[row+2][col+2] == "Yellow" && board[row+3][col+3] == "Yellow"){
				
				alert("Yellow wins");
				restart();
				return 0;
			}
		}
	}
	// check left diagonal
	for(col=7;col>=3;col--){
		for(row=0;row<=4;row++){
			if(board[row][col]=="Red"&& board[row+1][col-1] == "Red" && board[row+2][col-2] == "Red" && board[row+3][col-3] == "Red"){
				
				alert("Red wins");
				restart();
				return 0;
			}
			else if(board[row][col]=="Yellow"&& board[row+1][col-1] == "Yellow" && board[row+2][col-2] == "Yellow" && board[row+3][col-3] == "Yellow"){
				
				alert("Yellow wins");
				restart();
				return 0;
			}
		}
	}
	
	// check for tie
	if(filled == 64){
		alert("Tie");
		restart();
		}
	
	}
	
	function restart(){
	
		// Reset board 
		for(row=1;row<=8;row++){
			for(col=1;col<=8;col++){
				canvas=document.getElementsByName(row.toString().concat(col.toString()))[0];
				canvas.id="Empty";
				context=canvas.getContext('2d');
				context.fillStyle="white";
				context.fillRect(0,0,canvas.width,canvas.height);
			}
		}
		
		for(row=0;row<=7;row++){
			for(col=0;col<=7;col++){
				board[row][col]="";
			}
		}
		filled=0;
		multiPlayer= confirm("Do you want multiplayer?");
	}
	
  
  
  </script>
 </body>
 </html>